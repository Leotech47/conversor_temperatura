import sys

class ConversorTemperatura:
    """Classe para converter temperaturas entre Celsius e Fahrenheit."""

    def celsius_para_fahrenheit(self, celsius):
        """Converte uma temperatura de Celsius para Fahrenheit."""
        if celsius < -273.15:
            raise ValueError("Temperatura em Celsius abaixo do zero absoluto.")
        return (celsius * 9/5) + 32

    def fahrenheit_para_celsius(self, fahrenheit):
        """Converte uma temperatura de Fahrenheit para Celsius."""
        if fahrenheit < -459.67:
            raise ValueError("Temperatura em Fahrenheit abaixo do zero absoluto.")
        return (fahrenheit - 32) * 5/9

def obter_temperatura(unidade):
    """Obtém a temperatura do usuário em uma determinada unidade."""
    while True:
        try:
            temperatura = float(input(f"Digite a temperatura em {unidade}: "))
            if temperatura < 0 and unidade.lower() == "celsius":
                print("A temperatura em Celsius não pode ser negativa.")
            else:
                return temperatura
        except ValueError:
            print("Por favor, digite um número válido.")

def exibir_resultado(temperatura, unidade_inicial, unidade_final):
    """Exibe a temperatura convertida."""
    print(f"A temperatura em {unidade_inicial} convertida para {unidade_final} é: {temperatura:.2f}°{unidade_final}")

# Obter a temperatura inicial e a unidade
unidade_inicial = input("Digite a unidade inicial (C para Celsius, F para Fahrenheit): ").upper()
if unidade_inicial not in ['C', 'F']:
    print("Unidade inválida. Digite C ou F.")
    sys.exit(1)

temperatura = obter_temperatura(unidade_inicial)

# Criar uma instância do conversor
conversor = ConversorTemperatura()

# Realizar a conversão e exibir o resultado
if unidade_inicial == 'C':
    fahrenheit = conversor.celsius_para_fahrenheit(temperatura)
    exibir_resultado(fahrenheit, "Celsius", "Fahrenheit")
else:
    celsius = conversor.fahrenheit_para_celsius(temperatura)
    exibir_resultado(celsius, "Fahrenheit", "Celsius")
